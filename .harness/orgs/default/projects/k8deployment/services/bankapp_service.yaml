service:
  name: bankapp_service
  identifier: bankapp_service
  serviceDefinition:
    type: Kubernetes
    spec:
      manifests:
        - manifest:
            identifier: k8
            type: K8sManifest
            spec:
              store:
                type: Github
                spec:
                  connectorRef: account.Github
                  gitFetchType: Branch
                  paths:
                    - deployment.yaml
                  repoName: Blue-Green
                  branch: main
              patchesPaths:
                - patch.yaml
              skipResourceVersioning: false
              enableDeclarativeRollback: false
        - manifest:
            identifier: patch
            type: KustomizePatches
            spec:
              store:
                type: Github
                spec:
                  connectorRef: gitarvibankapp
                  gitFetchType: Branch
                  paths:
                    - patch.yaml
                  branch: main
      variables:
        - name: TAG
          type: String
          description: ""
          required: true
          value: green
        - name: ns
          type: String
          description: ""
          required: true
          value: prod
  gitOpsEnabled: false
  orgIdentifier: default
  projectIdentifier: k8deployment
